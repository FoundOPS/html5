// Copyright 2012 FoundOPS LLC. All Rights Reserved.

require.config({waitSeconds:10,baseUrl:"js",paths:{lib:"../lib",ui:"ui",db:"db",underscore:"../lib/underscore"},shim:{underscore:{exports:"_"}}}),require(["jquery","lib/kendo.mobile.min","developer","db/services"],function($,m,developer,services){var mobile={};mobile.CONFIG={TRACKPOINT_COLLECTION_FREQUENCY_SECONDS:1,ACCURACY_THRESHOLD:50};var app,selectedRoute=null,selectRoute=function(route){selectedRoute=route,app.navigate("views/routedestinations.html")};mobile.setupRoutesList=function(){$("#routes-listview").kendoMobileListView({dataSource:services.routesDataSource,pullToRefresh:!0,selectable:!0,style:"inset",template:$("#routeListViewTemplate").html(),click:function(e){selectRoute(e.dataItem)}})},mobile.setupRouteDestinationsList=function(){$("#routedestinations-listview").kendoMobileListView({dataSource:selectedRoute.RouteDestinations,selectable:!0,style:"inset",template:$("#routeDestinationsViewTemplate").html()})},window.mobile=mobile,app=new kendo.mobile.Application($(document.body),{platform:"ios"}),app.navigate("views/routes.html")})