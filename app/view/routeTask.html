<div id="routeTask" data-init="routeTask.initialize" data-show="routeTask.show" data-role="view" data-title="Route Task"
     data-model="routeTask.vm">

    <div id="taskServiceDetails" data-role="kendoServiceDetails" data-bind="service: selectedService"></div>

    <div class="fieldLabel"><span>Status</span></div>
    <ul id="routeStatus-listview" data-role="listview" data-style="inset" data-bind="click: openTaskStatuses" style="margin-top:0;">
        <li>
            <a class="km-button" data-bind="style: { backgroundColor: selectedTaskStatus.Color}">
                <span data-bind="text: selectedTaskStatus.Name"></span>
            </a>
        </li>
    </ul>

    <div class="fieldLabel" style="margin: 7px auto"><span>Signature</span></div>
    <ul id="signature-listview" data-role="listview" data-style="inset" data-bind="click: openSigBox" style="margin-top:0;">
        <li>
            <a>
                <img id="signature" src="data:image/png;base64,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9Yejn+rDPeQ4fxGVD6uuuq2Ihj+OWlw44Gvx+dwuHczEd/0ecP2W+P1tFQb2NrQKSJoQIECAAAECBAgQIECAAAEC9Qu0JSya70qaVXHqr4vK19bnm8eK29mx88ioZ0V1O5+8qqj4/a7YP25AyvKb0B6K4/84KkOj4jYTO3WERd36actaDUinOQECBAgQIECAAAECBAgQIHA4CbQlgKgjHDk24C+IyreU5d9+5/b38XuOWXUrvw1t7rgMufIB2Ftmv/jn+Pv6Pp1+OX57XoVB6/CoMIwmBAgQIECAAAECBAgQIECAAIGDBRZSWFQ8swyO/iPqJX0W/Dnx2zcr/kNcF+3OmW1bvlIpv/5h1E1RF0YdVejz/+Nz8fa1YcOivJKp2E/FaWtGgAABAgQIECBAgAABAgQIEBhMYKGGRXMKT4sP+Tazp3Zh+VV899iKXBk8vaZi27lmn40PedvceaXj8vlL/ztPX9+O359ZaPMv8bnfFUsDTk1zAgQIECBAgAABAgQIECBAgEB3gVrCorPOOmv9gQMHMpgZatu6des5u3btOrd48Jlnnpm3itWybdy48dIHH3xwebmzNWvW/NvRRx/96yqDbN68+SW7d+9+SpW2Rx555C/Wrl17xU033XTx3r178wHdv9uWLFlyx6pVq/572bJl93br6/bbbz9px44dF839tnjx4v9bt27dv1YZVxsCBAgQIECAAAECBAgQIEBgegUWLVq0+frrr79mVIGRw6LZoOjqUSayc+fOTlZxi7BolC4POnbPnj2dTZs2HdLfKaec0lm+/JAMqee42U8EW50IgHq2ifCpEyHUw79v27atc+eddx7SNoKizurVqztHHVW8Y63T2bdvX+fGG2/sPPRQ3nX22+3000/vLF26tDYLHREgQIAAAQIECBAgQIAAAQILVyACow2jBkZTERblv8CWLVs6d91110H/DRkUZWA06LZ9+/bOfffd13nggQceDnjmtmOOOaZz6qmn/m7/1ltv7dx2221du88A6IQTTugcccQRD/++f//+TlxRdFBQdPzxx3dOPvnkQaenPQECBAgQIECAAAECBAgQIDClAq0Ii9K+7beh5Rzvvvvu426++ebXFv9XAnD/GWec8fZR/n+y3wiEnhmhz+6VK1d+vdzXDTfccEmESvmcooG2CJN+FlcVfWiggzQmQIAAAQIECBAgQIAAAQIEplagNbeh1bQCM9HPWwt95eU4T6qp72I3P4+dcnDz1/HdvzcwVrHL98XOpQOMsSXarhqgvaYECBAgQIAAAQIECBAgQIAAgVoERr4NrZZZdDrFsCiDkj+PyjeC1b19Mzp8dqnTu2P/pKh7ojZEjfT8pT4TrhoY5RyfU/eJ648AAQIECBAgQIAAAQIECBAgUEWgLWHR+kJIk4HNyE/u7nHyH4zvXzX7Wz5F+g9mP18Zf/Np0/kWsquiLq6CN0SbL8Qxf9LnuGvjt/OH6NchBAgQIECAAAECBAgQIECAAIFaBNoSFuXJZGCUW1NB0RxYt1vRyphNurwtBjsxanth0HzK9i1Rb65lVXVCgAABAgQIECBAgAABAgQIEBhSoMlQZMgpNX7YOTHCV6P6nfs0ujQObwACBAgQIECAAAECBAgQIECg/QLTGop8MpbmRX2WZ1pd2v8fa4YECBAgQIAAAQIECBAgQIBAowLTGoqsCNUfRC3roTutLo3+s+mcAAECBAgQIECAAAECBAgQaL/ANIcin47leaGwqP3/pGZIgAABAgQIECBAgAABAgQIjE9gmsOiVN4RdVKJO9+Stnh8S2AkAgQIECBAgAABAgQIECBAgEB7BKY9LDotlmJT1JzD/fE530h2eXuWyEwIECBAgAABAgQIECBAgAABAuMT+A2hzgZb0p8pvAAAAABJRU5ErkJggg== "/>
            </a>
        </li>
    </ul>

    <div class="sigBox">
        <a id="sigClear" onclick="$('.sigBox').jSignature('reset');">Clear</a>
        <a id="sigSave" onclick="routeTask.vm.saveSig()">Save</a>
    </div>

    <div id="background-dimmer"></div>

    <div id="taskStatuses">
        <p id="taskStatusesTitle">Mark Task As:</p>
        <ul id="taskStatuses-listview" style="text-align: center"
            data-bind="source:taskStatusesSource, click:selectStatus"
            data-role="listview" data-style="inset" data-template="taskStatusTemplate"></ul>
        <ul id="taskStatuses-cancelButton" style="text-align: center" data-role="listview" data-style="inset" data-bind="click: closeTaskStatuses">
            <li><a><span>Cancel</span></a></li>
        </ul>
    </div>

    <footer></footer>
</div>
<script type="text/x-kendo-template" id="taskStatusTemplate">
    <a class="km-listview-link" style="background-color:#=Color#" taskId="#=Id#"><span>#=Name#</span></a>
</script>
