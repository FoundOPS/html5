<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <script type="text/javascript" src="js/colorPicker.min.js"></script>
    <link rel="stylesheet" href="css/colorPicker.css" />
</head>
<body>
    <div id="colorControl">
        <div class="wrapper box">
            <div id="picker" class="picker"></div>
            <div id="indicator-picker" class="indicator"></div>
        </div>
        <div class="wrapper wrapper-slide">
            <div id="slide" class="slide"></div>
            <div id="indicator-slide" class="indicator"></div>
        </div>
        <div id="bottomControls">
            <div id="colorSample"></div>
            <div id="bottomButtons">
                <input type="button" value="Choose" name="choose" onclick="setColor()">
                <input type="button" value="Cancel" name="cancel" onclick="window.close()">
            </div>

        </div>
    </div>
    <script type="text/javascript">
        var hexString = "";
        ColorPicker(
            document.getElementById('slide'),
            document.getElementById('picker'),
            function(hex, hsv, rgb, mousePicker, mouseSlide) {
                ColorPicker.positionIndicators(
                        document.getElementById('indicator-slide'),
                        document.getElementById('indicator-picker'),
                        mouseSlide, mousePicker);
                colorDiv = document.getElementById('colorSample');
                hexString = hex;
                colorDiv.style.backgroundColor = hex;
            });
        var setColor = function(){
            if(hexString)
                opener.updateColor(hexString);
            self.close();
        }
    </script>
</body>
</html>