define(["jquery","db/session","lib/kendo.all"],function($,session){var kendo=window.kendo,ui=kendo.ui,Widget=ui.Widget,SettingsMenu=Widget.extend({init:function(element,options){var _menu,options;Widget.fn.init.call(this,element,options),options=this.options,_menu=$('<ul id="settingsList"> <li class="active"><a>Personal</a></li><li><a>Business</a></li><li><a>Users</a></li><li><a>Dispatcher</a></li></ul>');var personalLi=_menu.find("li:nth-child(1)"),businessLi=_menu.find("li:nth-child(2)"),usersLi=_menu.find("li:nth-child(3)"),dispatcherLi=_menu.find("li:nth-child(4)");personalLi.click(function(){application.navigate("view/personalSettings.html")}),businessLi.click(function(){application.navigate("view/businessSettings.html")}),usersLi.click(function(){application.navigate("view/usersSettings.html")}),dispatcherLi.click(function(){application.navigate("view/dispatcherSettings.html")}),options.selectedItem==="Personal"?(personalLi.addClass("active"),businessLi.removeClass("active"),usersLi.removeClass("active"),dispatcherLi.removeClass("active")):options.selectedItem==="Business"?(businessLi.addClass("active"),personalLi.removeClass("active"),usersLi.removeClass("active"),dispatcherLi.removeClass("active")):options.selectedItem==="Users"?(usersLi.addClass("active"),personalLi.removeClass("active"),businessLi.removeClass("active"),dispatcherLi.removeClass("active")):options.selectedItem==="Dispatcher"&&(dispatcherLi.addClass("active"),personalLi.removeClass("active"),businessLi.removeClass("active"),usersLi.removeClass("active")),session.followRole(function(role){!role||role.type!=="Administrator"?(businessLi.css("display","none"),usersLi.css("display","none"),dispatcherLi.css("display","none")):(businessLi.css("display","block"),usersLi.css("display","block"),dispatcherLi.css("display","block"))}),this.element.append(_menu)},options:{name:"SettingsMenu",selectedItem:"Personal"}});ui.plugin(SettingsMenu)})